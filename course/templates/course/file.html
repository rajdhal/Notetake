{% extends 'core/base.html' %}

{% block title %}{{ file.name }}{% endblock %}

{% block content %}

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>{{ file.name }}</h1>
            </div>
        </div>
    </div>

    <iframe src="{{ file.file.url }}" width="100%" height="800px"></iframe>
    
   
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <p>{{ file.description }}</p>
                
                <p>Uploaded by {{ file.uploaded_by }} on {{ file.uploaded_at }}</p>
            </div>
            {% if user.is_authenticated %}
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <a href="{% url 'course:downvote' file.id %}" class="text-lg text-red-400 hover:text-red-900">-1</a>
                            <span class="text-lg"> | {{ file.votes }} | </span>
                            <a href="{% url 'course:upvote' file.id %}" class="text-lg text-green-400 hover:text-green-900">+1</a>
                        </div>
                    </div>
                </div>
            {% endif %}
            <br>
            <a href="{% url 'download_file' file.id %}" class="text-lg text-blue-400 hover:text-blue-900">Download</a>
        </div>
    </div>


    {% if file.uploaded_by == request.user or user.is_staff%}
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <a href="{% url 'course:deleteFile' file.id %}" class="text-lg text-red-400 hover:text-red-900">Delete</a>
                </div>
            </div>
        </div>
    {% endif %}

{% endblock %}